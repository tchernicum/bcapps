<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svg" 
 width="1024px" height="600px" viewbox="-512 -300 1024 600">
 <g id="g">
<rect title="continental drift (1.60978704686102e-09 m/s)" x="-28.2149133534764" y="-10" height="20" width="15.9354988354953" fill="#ff9e00" />
<text title="continental drift (1.60978704686102e-09 m/s)" x="-20.2471639357288" y="0" fill="black" style="font-size:15.9354988354953" transform="rotate(-90,-20.2471639357288,0) scale(1,0.0313764887539186)">continental drift</text>
<text title="continental drift (1.60978704686102e-09 m/s)" x="-20.2471639357288" y="0" fill="black" style="font-size:15.9354988354953" transform="scale(1,0.0313764887539186)">continental drift</text>
<rect title="snail (garden) (0.0134112 m/s)" x="-6.41151763917349" y="-10" height="20" width="4.19970507787993" fill="#ff003b" />
<text title="snail (garden) (0.0134112 m/s)" x="-4.31166510023352" y="0" fill="black" style="font-size:4.19970507787993" transform="rotate(-90,-4.31166510023352,0) scale(1,0.119055979105182)">snail (garden)</text>
<text title="snail (garden) (0.0134112 m/s)" x="-4.31166510023352" y="0" fill="black" style="font-size:4.19970507787993" transform="scale(1,0.119055979105182)">snail (garden)</text>
<rect title="strolling (0.89408 m/s)" x="-0.314692576407677" y="-10" height="20" width="0.405465108108164" fill="#ff0089" />
<text title="strolling (0.89408 m/s)" x="-0.111960022353595" y="0" fill="black" style="font-size:0.405465108108164" transform="rotate(-90,-0.111960022353595,0) scale(1,1.23315173118822)">strolling</text>
<text title="strolling (0.89408 m/s)" x="-0.111960022353595" y="0" fill="black" style="font-size:0.405465108108164" transform="scale(1,1.23315173118822)">strolling</text>
<rect title="walking (1.34112 m/s)" x="0.0907725317004875" y="-10" height="20" width="0.405465108108164" fill="#52ff00" />
<text title="walking (1.34112 m/s)" x="0.29350508575457" y="0" fill="black" style="font-size:0.405465108108164" transform="rotate(-90,0.29350508575457,0) scale(1,1.23315173118822)">walking</text>
<text title="walking (1.34112 m/s)" x="0.29350508575457" y="0" fill="black" style="font-size:0.405465108108164" transform="scale(1,1.23315173118822)">walking</text>
<rect title="record marathon run (5.68819088716667 m/s)" x="1.65611687825509" y="-10" height="20" width="0.164550746622384" fill="#ff00c2" />
<text title="record marathon run (5.68819088716667 m/s)" x="1.73839225156629" y="0" fill="black" style="font-size:0.164550746622384" transform="rotate(-90,1.73839225156629,0) scale(1,3.03857630708547)">record marathon run</text>
<text title="record marathon run (5.68819088716667 m/s)" x="1.73839225156629" y="0" fill="black" style="font-size:0.164550746622384" transform="scale(1,3.03857630708547)">record marathon run</text>
<rect title="15mph (6.7056 m/s)" x="1.86650081713863" y="-10" height="20" width="0.0728843621000874" fill="#00fcff" />
<text title="15mph (6.7056 m/s)" x="1.90294299818867" y="0" fill="black" style="font-size:0.0728843621000874" transform="rotate(-90,1.90294299818867,0) scale(1,6.86018215146594)">15mph</text>
<text title="15mph (6.7056 m/s)" x="1.90294299818867" y="0" fill="black" style="font-size:0.0728843621000874" transform="scale(1,6.86018215146594)">15mph</text>
<rect title="record mile run (7.21258459197443 m/s)" x="1.93938517923871" y="-10" height="20" width="0.0728843621000874" fill="#ff002c" />
<text title="record mile run (7.21258459197443 m/s)" x="1.97582736028876" y="0" fill="black" style="font-size:0.0728843621000874" transform="rotate(-90,1.97582736028876,0) scale(1,6.86018215146594)">record mile run</text>
<text title="record mile run (7.21258459197443 m/s)" x="1.97582736028876" y="0" fill="black" style="font-size:0.0728843621000874" transform="scale(1,6.86018215146594)">record mile run</text>
<rect title="record 100m sprint (10.4384133611 m/s)" x="2.31135458002072" y="-10" height="20" width="0.0682760279559584" fill="#0056ff" />
<text title="record 100m sprint (10.4384133611 m/s)" x="2.3454925939987" y="0" fill="black" style="font-size:0.0682760279559584" transform="rotate(-90,2.3454925939987,0) scale(1,7.32321453032572)">record 100m sprint</text>
<text title="record 100m sprint (10.4384133611 m/s)" x="2.3454925939987" y="0" fill="black" style="font-size:0.0682760279559584" transform="scale(1,7.32321453032572)">record 100m sprint</text>
<rect title="swallow (European, unladen) (11.176 m/s)" x="2.37963060797668" y="-10" height="20" width="0.0682760279559584" fill="#ff00cd" />
<text title="swallow (European, unladen) (11.176 m/s)" x="2.41376862195466" y="0" fill="black" style="font-size:0.0682760279559584" transform="rotate(-90,2.41376862195466,0) scale(1,7.32321453032572)">swallow (European, unladen)</text>
<text title="swallow (European, unladen) (11.176 m/s)" x="2.41376862195466" y="0" fill="black" style="font-size:0.0682760279559584" transform="scale(1,7.32321453032572)">swallow (European, unladen)</text>
<rect title="35mph (15.6464 m/s)" x="2.58200474026527" y="-10" height="20" width="0.336472236621213" fill="#ff00ba" />
<text title="35mph (15.6464 m/s)" x="2.75024085857587" y="0" fill="black" style="font-size:0.336472236621213" transform="rotate(-90,2.75024085857587,0) scale(1,1.48600670599423)">35mph</text>
<text title="35mph (15.6464 m/s)" x="2.75024085857587" y="0" fill="black" style="font-size:0.336472236621213" transform="scale(1,1.48600670599423)">35mph</text>
<rect title="55mph (24.5872 m/s)" x="3.11869893998735" y="-10" height="20" width="0.167054084663166" fill="#00ffc5" />
<text title="55mph (24.5872 m/s)" x="3.20222598231893" y="0" fill="black" style="font-size:0.167054084663166" transform="rotate(-90,3.20222598231893,0) scale(1,2.99304264848213)">55mph</text>
<text title="55mph (24.5872 m/s)" x="3.20222598231893" y="0" fill="black" style="font-size:0.167054084663166" transform="scale(1,2.99304264848213)">55mph</text>
<rect title="65mph (29.0576 m/s)" x="3.33222608090524" y="-10" height="20" width="0.0741079721537221" fill="#ff3300" />
<text title="65mph (29.0576 m/s)" x="3.3692800669821" y="0" fill="black" style="font-size:0.0741079721537221" transform="rotate(-90,3.3692800669821,0) scale(1,6.74691245042909)">65mph</text>
<text title="65mph (29.0576 m/s)" x="3.3692800669821" y="0" fill="black" style="font-size:0.0741079721537221" transform="scale(1,6.74691245042909)">65mph</text>
<rect title="cheetah (fastest land mammal) (31.2928 m/s)" x="3.40633405305896" y="-10" height="20" width="0.0741079721537221" fill="#fa00ff" />
<text title="cheetah (fastest land mammal) (31.2928 m/s)" x="3.44338803913582" y="0" fill="black" style="font-size:0.0741079721537221" transform="rotate(-90,3.44338803913582,0) scale(1,6.74691245042909)">cheetah (fastest land mammal)</text>
<text title="cheetah (fastest land mammal) (31.2928 m/s)" x="3.44338803913582" y="0" fill="black" style="font-size:0.0741079721537221" transform="scale(1,6.74691245042909)">cheetah (fastest land mammal)</text>
<rect title="80mph (35.7632 m/s)" x="3.51015373544808" y="-10" height="20" width="0.133531392624522" fill="#2500ff" />
<text title="80mph (35.7632 m/s)" x="3.57691943176034" y="0" fill="black" style="font-size:0.133531392624522" transform="rotate(-90,3.57691943176034,0) scale(1,3.74443784470932)">80mph</text>
<text title="80mph (35.7632 m/s)" x="3.57691943176034" y="0" fill="black" style="font-size:0.133531392624522" transform="scale(1,3.74443784470932)">80mph</text>
<rect title="100mph (44.704 m/s)" x="3.68849120741745" y="-10" height="20" width="0.22314355131421" fill="#ff0097" />
<text title="100mph (44.704 m/s)" x="3.80006298307455" y="0" fill="black" style="font-size:0.22314355131421" transform="rotate(-90,3.80006298307455,0) scale(1,2.24071005886228)">100mph</text>
<text title="100mph (44.704 m/s)" x="3.80006298307455" y="0" fill="black" style="font-size:0.22314355131421" transform="scale(1,2.24071005886228)">100mph</text>
<rect title="falcon (peregrine) (89.408 m/s)" x="4.4372301524577" y="-10" height="20" width="0.111960022353595" fill="#00fff3" />
<text title="falcon (peregrine) (89.408 m/s)" x="4.4932101636345" y="0" fill="black" style="font-size:0.111960022353595" transform="rotate(-90,4.4932101636345,0) scale(1,4.46587978002439)">falcon (peregrine)</text>
<text title="falcon (peregrine) (89.408 m/s)" x="4.4932101636345" y="0" fill="black" style="font-size:0.111960022353595" transform="scale(1,4.46587978002439)">falcon (peregrine)</text>
<rect title="golf club swing (pro) (100 m/s)" x="4.54919017481129" y="-10" height="20" width="0.111960022353595" fill="#001fff" />
<text title="golf club swing (pro) (100 m/s)" x="4.60517018598809" y="0" fill="black" style="font-size:0.111960022353595" transform="rotate(-90,4.60517018598809,0) scale(1,4.46587978002439)">golf club swing (pro)</text>
<text title="golf club swing (pro) (100 m/s)" x="4.60517018598809" y="0" fill="black" style="font-size:0.111960022353595" transform="scale(1,4.46587978002439)">golf club swing (pro)</text>
<rect title="airplane (245.872 m/s)" x="5.34274380416436" y="-10" height="20" width="0.324134542297231" fill="#ff0001" />
<text title="airplane (245.872 m/s)" x="5.50481107531298" y="0" fill="black" style="font-size:0.324134542297231" transform="rotate(-90,5.50481107531298,0) scale(1,1.54256931845758)">airplane</text>
<text title="airplane (245.872 m/s)" x="5.50481107531298" y="0" fill="black" style="font-size:0.324134542297231" transform="scale(1,1.54256931845758)">airplane</text>
<rect title="bullet (340 m/s)" x="5.82426174260841" y="-10" height="20" width="0.0093677500035998" fill="#002bff" />
<text title="bullet (340 m/s)" x="5.82894561761021" y="0" fill="black" style="font-size:0.0093677500035998" transform="rotate(-90,5.82894561761021,0) scale(1,53.374609677656)">bullet</text>
<text title="bullet (340 m/s)" x="5.82894561761021" y="0" fill="black" style="font-size:0.0093677500035998" transform="scale(1,53.374609677656)">bullet</text>
<rect title="sound (343.2 m/s)" x="5.83362949261201" y="-10" height="20" width="0.0093677500035998" fill="#ff8400" />
<text title="sound (343.2 m/s)" x="5.83831336761381" y="0" fill="black" style="font-size:0.0093677500035998" transform="rotate(-90,5.83831336761381,0) scale(1,53.374609677656)">sound</text>
<text title="sound (343.2 m/s)" x="5.83831336761381" y="0" fill="black" style="font-size:0.0093677500035998" transform="scale(1,53.374609677656)">sound</text>
<rect title="Earth rotation (equator) (465.100416 m/s)" x="5.99028334913738" y="-10" height="20" width="0.303939963047149" fill="#e500ff" />
<text title="Earth rotation (equator) (465.100416 m/s)" x="6.14225333066096" y="0" fill="black" style="font-size:0.303939963047149" transform="rotate(-90,6.14225333066096,0) scale(1,1.64506172530671)">Earth rotation (equator)</text>
<text title="Earth rotation (equator) (465.100416 m/s)" x="6.14225333066096" y="0" fill="black" style="font-size:0.303939963047149" transform="scale(1,1.64506172530671)">Earth rotation (equator)</text>
<rect title="kids (pumped-up kicks) (680 m/s)" x="6.33217306441555" y="-10" height="20" width="0.379839467509195" fill="#d8ff00" />
<text title="kids (pumped-up kicks) (680 m/s)" x="6.52209279817015" y="0" fill="black" style="font-size:0.379839467509195" transform="rotate(-90,6.52209279817015,0) scale(1,1.3163455690341)">kids (pumped-up kicks)</text>
<text title="kids (pumped-up kicks) (680 m/s)" x="6.52209279817015" y="0" fill="black" style="font-size:0.379839467509195" transform="scale(1,1.3163455690341)">kids (pumped-up kicks)</text>
<rect title="escape velocity (11200 m/s)" x="8.83403629176541" y="-10" height="20" width="0.979265531035544" fill="#ff008d" />
<text title="escape velocity (11200 m/s)" x="9.32366905728319" y="0" fill="black" style="font-size:0.979265531035544" transform="rotate(-90,9.32366905728319,0) scale(1,0.510586745018243)">escape velocity</text>
<text title="escape velocity (11200 m/s)" x="9.32366905728319" y="0" fill="black" style="font-size:0.979265531035544" transform="scale(1,0.510586745018243)">escape velocity</text>
<rect title="Earth revolution (29820 m/s)" x="9.81330182280096" y="-10" height="20" width="0.979265531035544" fill="#ff0000" />
<text title="Earth revolution (29820 m/s)" x="10.3029345883187" y="0" fill="black" style="font-size:0.979265531035544" transform="rotate(-90,10.3029345883187,0) scale(1,0.510586745018243)">Earth revolution</text>
<text title="Earth revolution (29820 m/s)" x="10.3029345883187" y="0" fill="black" style="font-size:0.979265531035544" transform="scale(1,0.510586745018243)">Earth revolution</text>
<rect title="light (water) (224904301.9916 m/s)" x="19.0874778245436" y="-10" height="20" width="0.28741544133435" fill="#9aff00" />
<text title="light (water) (224904301.9916 m/s)" x="19.2311855452108" y="0" fill="black" style="font-size:0.28741544133435" transform="rotate(-90,19.2311855452108,0) scale(1,1.73964209326649)">light (water)</text>
<text title="light (water) (224904301.9916 m/s)" x="19.2311855452108" y="0" fill="black" style="font-size:0.28741544133435" transform="scale(1,1.73964209326649)">light (water)</text>
<rect title="light (vacuum) (299792458 m/s)" x="19.374893265878" y="-10" height="20" width="0.28741544133435" fill="#c400ff" />
<text title="light (vacuum) (299792458 m/s)" x="19.5186009865452" y="0" fill="black" style="font-size:0.28741544133435" transform="rotate(-90,19.5186009865452,0) scale(1,1.73964209326649)">light (vacuum)</text>
<text title="light (vacuum) (299792458 m/s)" x="19.5186009865452" y="0" fill="black" style="font-size:0.28741544133435" transform="scale(1,1.73964209326649)">light (vacuum)</text>
</g></svg>
<script src="/home/barrycarter/BCGIT/HTML5/jquery-1.8.0.min.js"></script>

<!--
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svg" 
 width="1024px" height="600px" viewbox="-512 -300 1024 600">
 <g id="g">
  <text x="-400" y="0" fill="black" style="font-size:015">-400</text>
  <text x="-300" y="0" fill="black" style="font-size:15">-300</text>
  <text x="-200" y="0" fill="black" style="font-size:15">-200</text>
  <text x="-100" y="0" fill="black" style="font-size:15">-100</text>
  <text x="0" y="0" fill="black" style="font-size:15">0</text>
  <text x="100" y="0" fill="black" style="font-size:15">100</text>
  <text x="200" y="0" fill="black" style="font-size:15">200</text>
  <text x="300" y="0" fill="black" style="font-size:15">300</text>
  <text x="400" y="0" fill="black" style="font-size:15">400</text>
 </g>
</svg>
-->

<script language="javascript">

// the SVG file and its graphics content
svg = document.getElementById("svg");
g = document.getElementById("g");

// the initial values
var is_zooming = 0;
var is_moving = 0;
var mouse_down = 0;
// the initial view is [-512,+512]
// large values of zoom = zooming in
var zoom = 1;
var xcenter = 0;
var zoomfactor = 1.01;
var mousex;

// bindings (should these be on the SVG instead of the document?)
$(document).mousedown(
		      function(e) {
			mouse_down = 1;
			if (e.shiftKey) {shiftmousedown(e);}
			else if (e.ctrlKey) {ctrlmousedown(e);}
			else {mousedown(e);}
		      })
$(document).mouseup(mouseup)
$(document).mousemove(
		      function(e) {
			if (mouse_down) {
			  mousemove(e);
			    }
		      }
		      );

// recenter/scale the document when any change is made
// (doesn't actually redraw, the SVG handles that)
function redraw() {
  //  var str = "translate(" + -xcenter + ",0) scale(" + zoom +",1)";

  // below is either zoom x only or zoom both
  var str = "translate(" + -xcenter*zoom + ",0) scale(" + zoom +","+1+")";
//  var str = "translate(" + -xcenter*zoom + ",0) scale(" + zoom +","+zoom+")";

  // WRONG: var str = "scale(" + zoom +",1) translate("+ -xcenter*zoom + ",0)";
  g.setAttribute("transform",str);
}

function mousemove(e) {
  xcenter = oldcenter - (e.pageX-oldmouse)/zoom;
  redraw();
}

function shiftmousedown() {
 is_zooming = 1;
 holdzoom(zoomfactor);
}

// when mouse button pressed...
function mousedown(e) {
 is_moving = 1;

 // record the current xcenter and mouse position for mousemove()
 oldcenter = xcenter;
 // <h>this old mouse...</h>
 oldmouse = e.pageX;
}

function ctrlmousedown(e) {
 is_zooming = 1;
 holdzoom(1./zoomfactor);
}

function mouseup(e) {
  is_zooming = 0;
  is_moving = 0;
  mouse_down = 0;
  redraw();
  //  alert("Z:"+zoom+", XC:"+xcenter);
}

// keep zooming by zf
function holdzoom(zf) {
  if (is_zooming) {
    zoom=zoom*zf;
    redraw();
    setTimeout("holdzoom("+zf+")", 1);
  }
}

</script>
